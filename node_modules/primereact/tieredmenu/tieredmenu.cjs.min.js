"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),n=require("primereact/api"),t=require("primereact/componentbase"),r=require("primereact/csstransition"),i=require("primereact/hooks"),o=require("primereact/overlayservice"),u=require("primereact/portal"),a=require("primereact/utils"),c=require("primereact/icons/angleright"),l=require("primereact/ripple");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach((function(t){if("default"!==t){var r=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,r.get?r:{enumerable:!0,get:function(){return e[t]}})}})),n.default=e,Object.freeze(n)}var m=p(e),d=s(n);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},f.apply(this,arguments)}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function v(e,n){if("object"!==b(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}function y(e){var n=v(e,"string");return"symbol"===b(n)?n:String(n)}function g(e,n,t){return(n=y(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function h(e){if(Array.isArray(e))return e}function x(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,o,u,a=[],c=!0,l=!1;try{if(o=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(a.push(r.value),a.length!==n);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=t.return&&(u=t.return(),Object(u)!==u))return}finally{if(l)throw i}}return a}}function I(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function O(e,n){if(e){if("string"==typeof e)return I(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?I(e,n):void 0}}function E(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,n){return h(e)||x(e,n)||O(e,n)||E()}var j=t.ComponentBase.extend({defaultProps:{__TYPE:"TieredMenu",__parentMetadata:null,id:null,model:null,popup:!1,style:null,className:null,autoZIndex:!0,baseZIndex:0,breakpoint:void 0,scrollHeight:"400px",appendTo:null,transitionOptions:null,onShow:null,onFocus:null,onBlur:null,onHide:null,submenuIcon:null,children:void 0},css:{classes:{root:function(e){var n=e.context;return a.classNames("p-tieredmenu p-component",{"p-tieredmenu-overlay":e.props.popup,"p-input-filled":n&&"filled"===n.inputStyle||"filled"===d.default.inputStyle,"p-ripple-disabled":n&&!1===n.ripple||!1===d.default.ripple})},separator:"p-menuitem-separator",icon:function(e){return a.classNames("p-menuitem-icon",e._icon)},content:"p-menuitem-content",label:"p-menuitem-text",submenuIcon:"p-submenu-icon",action:"p-menuitem-link",menuitem:function(e){return a.classNames("p-menuitem",{"p-menuitem-active p-highlight":e.active,"p-focus":e.focused,"p-disabled":e.disabled},e.itemClassName)},menu:"p-tieredmenu-root-list",submenu:"p-submenu-list",transition:"p-connected-overlay"},styles:"\n@layer primereact {\n    .p-tieredmenu-overlay {\n        position: absolute;\n    }\n\n    .p-tieredmenu ul {\n        margin: 0;\n        padding: 0;\n        list-style: none;\n    }\n\n    .p-tieredmenu .p-submenu-list {\n        position: absolute;\n        min-width: 100%;\n        z-index: 1;\n        display: none;\n    }\n\n    .p-tieredmenu .p-menuitem-link {\n        cursor: pointer;\n        display: flex;\n        align-items: center;\n        text-decoration: none;\n        overflow: hidden;\n        position: relative;\n    }\n\n    .p-tieredmenu .p-menuitem-text {\n        line-height: 1;\n    }\n\n    .p-tieredmenu .p-menuitem {\n        position: relative;\n    }\n\n    .p-tieredmenu .p-menuitem-link .p-submenu-icon {\n        margin-left: auto;\n    }\n\n    .p-tieredmenu .p-menuitem-active > .p-submenu-list {\n        display: block;\n        left: 100%;\n        top: 0;\n    }\n\n    .p-tieredmenu .p-menuitem-active > .p-submenu-list-flipped {\n        left: -100%;\n    }\n}\n",inlineStyles:{submenu:function(e){var n=e.subProps;return{display:!n.root&&n.parentActive?"block":"none"}}}}});function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){g(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=m.memo(m.forwardRef((function(e,n){var t=m.useRef(null),r=i.useMergeProps(),o=e.ptm,u=e.cx,s=e.sx,p=function(n,t){return o(t,{hostName:e.hostName,context:{active:y(n)}})},d=function(){if(t.current){var e=t.current.parentElement,n=a.DomHandler.getOffset(e),r=a.DomHandler.getViewport(),i=t.current.offsetParent?t.current.offsetWidth:a.DomHandler.getHiddenElementOuterWidth(t.current),o=a.DomHandler.getOuterWidth(e.children[0]),u=parseInt(n.top,10)+t.current.offsetHeight-a.DomHandler.getWindowScrollTop();t.current.style.top=u>r.height?r.height-u+"px":"0px",parseInt(n.left,10)+o+i>r.width-a.DomHandler.calculateScrollbarWidth()&&a.DomHandler.addClass(t.current,"p-submenu-list-flipped")}},f=function(n,t){var r=t.item;h(t)?n.preventDefault():(r.command&&r.command({originalEvent:n,item:r}),e.onItemClick&&e.onItemClick({originalEvent:n,processedItem:t}),r.url||(n.preventDefault(),n.stopPropagation()))},b=function(n){return"".concat(e.menuId,"_").concat(n.key)},v=function(e,n,t){return e&&e.item?a.ObjectUtils.getItemValue(e.item[n],t):void 0},y=function(n){return e.activeItemPath.some((function(e){return e.key===n.key}))},g=function(e){return!1!==v(e,"visible")},h=function(e){return v(e,"disabled")},x=function(n){return e.focusedItemId===b(n)},I=function(e){return a.ObjectUtils.isNotEmpty(e.items)},O=function(n,t){e.onItemMouseEnter&&e.onItemMouseEnter({originalEvent:n,processedItem:t})},E=function(n){return n-e.model.slice(0,n).filter((function(e){return g(e)&&v(e,"separator")})).length+1};i.useUpdateEffect((function(){e.root||!e.parentActive||e.isMobileMode||d()}),[e.parentActive]),m.useImperativeHandle(n,(function(){return{getElement:function(){return t.current}}}));var k=function(n){var t=r({key:"separator_"+n,className:u("separator"),role:"separator"},o("separator",{hostName:e.hostName}));return m.createElement("li",t)},j=function(n,t){return I(n)?m.createElement(w,{id:e.id+"_"+t,menuProps:e.menuProps,model:n.items,menuId:e.menuId,ariaLabelledby:b(n),focusedItemId:e.focusedItemId,activeItemPath:e.activeItemPath,level:e.level+1,onItemClick:e.onItemClick,popup:e.popup,onItemMouseEnter:e.onItemMouseEnter,parentActive:y(n),isMobileMode:e.isMobileMode,submenuIcon:e.submenuIcon,ptm:e.ptm,cx:u,sx:s}):null},S=function(n,t){if(!1===g(n))return null;var i=n.item,o=v(n,"style"),s=v(n,"className"),d=v(n,"icon"),k=v(n,"target"),S=v(n,"url"),w=b(n),P=x(n),N=y(n),H=h(n),M=I(n),K=a.classNames("p-menuitem-link"),U=a.classNames("p-menuitem-icon",d),C=r({className:a.classNames(i.icon,"p-menuitem-icon","icon")},p(n,"icon")),T=a.IconUtils.getJSXIcon(d,D({},C),{props:e.menuProps}),_=r({className:u("label")},p(n,"label")),A=i.label&&m.createElement("span",_,i.label),L=r({className:u("submenuIcon")},p(n,"submenuIcon")),R=M&&a.IconUtils.getJSXIcon(e.submenuIcon||m.createElement(c.AngleRightIcon,L),D({},L),{props:e.menuProps}),q=j(n,t),B=r({href:S||"#",tabIndex:"-1",onFocus:function(e){return e.stopPropagation()},className:u("action"),target:k},p(n,"action")),W=m.createElement("a",B,T,A,R,m.createElement(l.Ripple,null));i.template&&(W=a.ObjectUtils.getJSXElement(i.template,i,{className:K,labelClassName:"p-menuitem-text",iconClassName:U,submenuIconClassName:"p-submenu-icon",element:W,props:e,active:N,disabled:H}));var Z=r({onClick:function(e){return f(e,n)},onMouseEnter:function(e){return O(e,n)},className:u("content")},p(n,"content")),F=r({key:w,id:w,"aria-label":i.label,"aria-disabled":H,"aria-expanded":M?N:void 0,"aria-haspopup":M&&!S?"menu":void 0,"aria-setsize":e.model.filter((function(e){return g(e)&&!v(e,"separator")})).length,"aria-posinset":E(t),"data-p-highlight":N,"data-p-disabled":H,"data-p-visited":P,className:u("menuitem",{itemClassName:s,active:N,focused:P,disabled:H}),style:o,onMouseEnter:function(e){return O(e,i)},role:"menuitem"},p(n,"menuitem"));return m.createElement("li",F,m.createElement("div",Z,W),q)},P=e.model?e.model.map((function(e,n){return!1===e.visible?null:v(e,"separator")?k(n):S(e,n)})):null,N=e.root?"menu":"submenu",H=r({ref:t,id:e.id,tabIndex:e.tabIndex,onFocus:e.onFocus,onBlur:e.onBlur,onKeyDown:e.onKeyDown,className:u(N,{subProps:e}),style:s(N,{subProps:e}),role:e.root?"menubar":"menu","aria-label":e.ariaLabel,"aria-labelledby":e.ariaLabelledby,"aria-orientation":e.ariaOrientation,"aria-activedescendant":e.focusedItemId},o(N,{hostName:e.hostName}));return m.createElement("ul",H,P)})));function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function N(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){g(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}w.displayName="TieredMenuSub";var H=m.memo(m.forwardRef((function(e,c){var l=i.useMergeProps(),s=m.useContext(n.PrimeReactContext),p=j.getProps(e,s),b=k(m.useState(p.id),2),v=b[0],y=b[1],g=k(m.useState(!p.popup),2),h=g[0],x=g[1],I=k(m.useState([]),2),O=I[0],E=I[1],S=k(m.useState(!1),2),D=S[0],P=S[1],H=k(m.useState(null),2),M=H[0],K=H[1],U=k(m.useState({index:-1,level:0,parentKey:""}),2),C=U[0],T=U[1],_=k(m.useState(!1),2),A=_[0],L=_[1],R=k(m.useState([]),2),q=R[0],B=R[1],W=k(m.useState([]),2),Z=W[0],F=W[1],z=k(m.useState(!1),2),V=z[0],J=z[1],X=k(m.useState(null),2),Y=X[0],$=X[1],G=N(N({props:p},p.__parentMetadata),{},{state:{id:v,visible:h,attributeSelector:Y}}),Q=j.setMetaData(G),ee=Q.ptm,ne=Q.cx,te=Q.sx;t.useHandleStyle(j.css.styles,Q.isUnstyled,{name:"tieredmenu"});var re=m.useRef(null),ie=m.useRef(null),oe=m.useRef(null),ue=m.useRef(null),ae=m.useRef(null),ce=m.useRef(null),le=m.useRef(null),se=i.useMatchMedia("screen and (max-width: ".concat(p.breakpoint,")"),!!p.breakpoint),pe=k(i.useEventListener({type:"click",listener:function(e){var n=re.current&&!re.current.contains(e.target),t=!p.popup||!(oe.current&&(oe.current===e.target||oe.current.contains(e.target)));n&&t&&xe(e,!p.popup)}}),2),me=pe[0],de=pe[1],fe=k(i.useResizeListener({listener:function(){!se&&xe(event,!0)}}),2),be=fe[0],ve=fe[1],ye=function(e){p.popup&&o.OverlayService.emit("overlay-click",{originalEvent:e,target:oe.current})},ge=function(e){p.popup&&(h?xe(e):he(e))},he=function(e){p.popup&&(oe.current=e.currentTarget,x(!0),p.onShow&&p.onShow(e),ue.current=e.relatedTarget||null),T({index:$e(),level:0,parentKey:""})},xe=function(e,n){p.popup&&(x(!1),p.onHide&&p.onHide(e));var t=_e();E([]),T({index:-1,level:0,parentKey:""}),n&&a.DomHandler.focus(ue.current||oe.current||t),L(!1)},Ie=function(e){P(!0),T(-1!==C.index?C:{index:$e(),level:0,parentKey:""}),p.onFocus&&p.onFocus(e)},Oe=function(e){P(!1),T({index:-1,level:0,parentKey:""}),ce.current="",L(!1),p.onBlur&&p.onBlur(e)},Ee=function(e){var n=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":De(e);break;case"ArrowUp":we(e);break;case"ArrowLeft":Pe(e);break;case"ArrowRight":Ne(e);break;case"Home":He(e);break;case"End":Me(e);break;case"Space":Ue(e);break;case"Enter":case"NumpadEnter":Ke(e);break;case"Escape":p.popup&&a.DomHandler.focus(oe.current),Ce(e);break;case"Tab":Te(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!n&&a.ObjectUtils.isPrintableCharacter(e.key)&&Qe(e.key)}},ke=function(e){var n=e.processedItem,t=e.isFocus;if(!a.ObjectUtils.isEmpty(n)){var r=n.index,i=n.key,o=n.level,u=n.parentKey,c=a.ObjectUtils.isNotEmpty(n.items),l=O.filter((function(e){return e.parentKey!==u&&e.parentKey!==i}));c&&l.push(n),T({index:r,level:o,parentKey:u}),E(l),c&&L(!0),t&&a.DomHandler.focus(_e())}},je=function(e){var n=e.originalEvent,t=e.processedItem;if(!Le(t)&&!p.isMobileMode){var r=qe(t),i=a.ObjectUtils.isEmpty(t.parent),o=Fe(t),u=_e();if(o){var c=t.index,l=t.key,s=t.level,m=t.parentKey;E(O.filter((function(e){return l!==e.key&&l.startsWith(e.key)}))),T({index:c,level:s,parentKey:m}),r||L(!i),setTimeout((function(){a.DomHandler.focus(u),r&&L(!0)}),0)}else if(r)a.DomHandler.focus(u),ke(e);else{var d=i?t:O.find((function(e){return""===e.parentKey})),f=d?d.index:-1;xe(n,!0),T({index:f,parentKey:d?d.parentKey:""})}}},Se=function(e){var n=e.originalEvent;Le(e.processedItem)||p.isMobileMode?n.preventDefault():A&&!p.popup&&ke(e)},De=function(e){var n=-1!==C.index?Je(C.index):$e();en(n),e.preventDefault()},we=function(e){if(e.altKey){if(p.popup&&a.DomHandler.focus(oe.current),-1!==C.index){var n=Z[C.index];!qe(n)&&ke({originalEvent:e,processedItem:n})}p.popup&&xe(e,!0),e.preventDefault()}else{var t=-1!==C.index?Xe(C.index):Ge();en(t),e.preventDefault()}},Pe=function(e){var n=Z[C.index],t=O.find((function(e){return e.key===n.parentKey}));a.ObjectUtils.isEmpty(n.parent)||(T({index:-1,parentKey:t?t.parentKey:""}),ce.current="",setTimeout((function(){return J(!0)}),0)),E(O.filter((function(e){return e.parentKey!==C.parentKey}))),e.preventDefault()},Ne=function(e){var n=Z[C.index];qe(n)&&(ke({originalEvent:e,processedItem:n}),T({index:-1,parentKey:n.key}),ce.current="",setTimeout((function(){return J(!0)}),0)),e.preventDefault()},He=function(e){en(ze()),e.preventDefault()},Me=function(e){en(Ve()),e.preventDefault()},Ke=function(e){if(-1!==C.index){var n=a.DomHandler.findSingle(_e(),'li[id="'.concat("".concat(M),'"]')),t=n&&a.DomHandler.findSingle(n,'[data-pc-section="action"]');p.popup&&a.DomHandler.focus(oe.current),t?t.click():n&&n.click()}e.preventDefault()},Ue=function(e){Ke(e)},Ce=function(e){xe(e,!0),!p.popup&&T(N(N({},C),{},{index:$e()})),e.preventDefault()},Te=function(e){if(-1!==C.index){var n=Z[C.index];!qe(n)&&ke({originalEvent:e,processedItem:n})}xe(e)},_e=function(){return ie.current.getElement()||null},Ae=function(e,n){return e?a.ObjectUtils.getItemValue(e[n]):void 0},Le=function(e){return Ae(e,"disabled")},Re=function(e){return e?Ae(e.item,"label"):void 0},qe=function(e){return e&&a.ObjectUtils.isNotEmpty(e.items)},Be=function(e){return We(e)&&Re(e).toLocaleLowerCase().startsWith(ce.current.toLocaleLowerCase())},We=function(e){return!!e&&!Le(e.item)&&!Ae(e.item,"separator")},Ze=function(e){return We(e)&&Fe(e)},Fe=function(e){return O.some((function(n){return n.key===e.key}))},ze=function(){return Z.findIndex((function(e){return We(e)}))},Ve=function(){return a.ObjectUtils.findLastIndex(Z,(function(e){return We(e)}))},Je=function(e){var n=e<Z.length-1?Z.slice(e+1).findIndex((function(e){return We(e)})):-1;return n>-1?n+e+1:e},Xe=function(e){var n=e>0?a.ObjectUtils.findLastIndex(Z.slice(0,e),(function(e){return We(e)})):-1;return n>-1?n:e},Ye=function(){return Z.findIndex((function(e){return Ze(e)}))},$e=function(){var e=Ye();return e<0?ze():e},Ge=function(){var e=Ye();return e<0?Ve():e},Qe=function(e){ce.current=(ce.current||"")+e;var n=-1,t=!1;return-1!==(n=-1!==C.index?-1===(n=Z.slice(C.index).findIndex((function(e){return Be(e)})))?Z.slice(0,C.index).findIndex((function(e){return Be(e)})):n+C.index:Z.findIndex((function(e){return Be(e)})))&&(t=!0),-1===n&&-1===C.index&&(n=$e()),-1!==n&&en(n),le.current&&clearTimeout(le),le.current=setTimeout((function(){ce.current="",le.current=null}),500),t},en=function(e){C.index!==e&&(T(N(N({},C),{},{index:e})),nn())},nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=-1!==e?"".concat(v,"_").concat(e):M,t=a.DomHandler.findSingle(_e(),'li[id="'.concat(n,'"]'));t&&t.scrollIntoView&&t.scrollIntoView({block:"nearest",inline:"start"})},tn=m.useCallback((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=[];return e&&e.forEach((function(e,o){var u=(""!==r?r+"_":"")+o,a={item:e,index:o,level:n,key:u,parent:t,parentKey:r};a.items=tn(e.items,n+1,a,u),i.push(a)})),i}),[]),rn=function(){if(!ae.current){ae.current=a.DomHandler.createInlineStyle(s&&s.nonce||d.default.nonce,s&&s.styleContainer);var e="".concat(Y),n="\n@media screen and (max-width: ".concat(p.breakpoint,") {\n    .p-tieredmenu[").concat(e,"] > ul {\n        max-height: ").concat(p.scrollHeight,";\n        overflow: ").concat(p.scrollHeight?"auto":"",";\n    }\n\n    .p-tieredmenu[").concat(e,"] .p-submenu-list {\n        position: relative;\n    }\n\n    .p-tieredmenu[").concat(e,"] .p-menuitem-active > .p-submenu-list {\n        left: 0;\n        box-shadow: none;\n        border-radius: 0;\n        padding: 0 0 0 calc(var(--inline-spacing) * 2); /* @todo */\n    }\n\n    .p-tieredmenu[").concat(e,"] .p-menuitem-active > .p-menuitem-link > .p-submenu-icon {\n        transform: rotate(-180deg);\n    }\n\n    .p-tieredmenu[").concat(e,'] .p-submenu-icon:before {\n        content: "\\e930";\n    }\n\n    ').concat(p.popup?"":".p-tieredmenu[".concat(e,"] { width: 100%; }"),"\n}\n");ae.current.innerHTML=n}},on=function(){ae.current=a.DomHandler.removeInlineStyle(ae.current)},un=function(){var e;p.autoZIndex&&a.ZIndexUtils.set("menu",re.current,s&&s.autoZIndex||d.default.autoZIndex,p.baseZIndex||s&&s.zIndex.menu||d.default.zIndex.menu),a.DomHandler.addStyles(re.current,{position:"absolute",top:"0",left:"0"}),e=a.DomHandler.getOuterWidth(oe.current)>a.DomHandler.getOuterWidth(re.current),a.DomHandler.alignOverlay(re.current,oe.current,p.appendTo,e),a.DomHandler.focus(ie.current.getElement()),nn(),Y&&p.breakpoint&&(re.current.setAttribute(Y,""),rn())},an=function(){me(),be()},cn=function(){oe.current=null,de(),ve()},ln=function(){a.ZIndexUtils.clear(re.current),on()};i.useMountEffect((function(){var e=a.UniqueComponentId();!v&&y(e),p.breakpoint&&!Y&&$(e)})),m.useEffect((function(){var e=tn(p.model||[]);B(e)}),[p.model,tn]),i.useUpdateEffect((function(){var e=O.find((function(e){return e.key===C.parentKey}));F(e?e.items:q)}),[O,C,q]),i.useUpdateEffect((function(){var e=-1!==C.index?"".concat(v).concat(a.ObjectUtils.isNotEmpty(C.parentKey)?"_"+C.parentKey:"","_").concat(C.index):null;K(e)}),[C]),i.useUpdateEffect((function(){p.popup||(a.ObjectUtils.isNotEmpty(O)?(me(),be()):(de(),ve()))}),[O]),i.useUpdateEffect((function(){if(V){var e=-1!==C.index?Je(C.index):$e();en(e),E(O.filter((function(e){return e.parentKey!==C.parentKey}))),J(!1)}}),[V]),i.useUpdateEffect((function(){return Y&&re.current&&(re.current.setAttribute(Y,""),rn()),function(){on()}}),[Y,p.breakpoint]),i.useUnmountEffect((function(){a.ZIndexUtils.clear(re.current)})),m.useImperativeHandle(c,(function(){return{props:p,toggle:ge,show:he,hide:xe,getElement:function(){return re.current}}}));var sn,pn,mn=(sn=l({ref:re,id:p.id,className:a.classNames(p.className,ne("root")),style:p.style,onClick:ye},j.getOtherProps(p),ee("root")),pn=l({classNames:ne("transition"),in:h,timeout:{enter:120,exit:100},options:p.transitionOptions,unmountOnExit:!0,onEnter:un,onEntered:an,onExit:cn,onExited:ln},ee("transition")),m.createElement(r.CSSTransition,f({nodeRef:re},pn),m.createElement("div",sn,m.createElement(w,{id:v+"_list",ref:ie,hostName:"TieredMenu",menuProps:p,tabIndex:0,model:q,ariaLabel:p.ariaLabel,ariaLabelledBy:p.ariaLabelledBy,ariaOrientation:"vertical",ariaActiveDescendant:D?M:void 0,menuId:v,level:0,focusedItemId:M,activeItemPath:O,onFocus:Ie,onBlur:Oe,onKeyDown:Ee,onItemClick:je,onItemMouseEnter:Se,root:!0,popup:p.popup,onHide:xe,isMobileMode:se,submenuIcon:p.submenuIcon,ptm:ee,cx:ne,sx:te}))));return p.popup?m.createElement(u.Portal,{element:mn,appendTo:p.appendTo}):mn})));H.displayName="TieredMenu",exports.TieredMenu=H;
